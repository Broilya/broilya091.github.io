(window.p=window.p||[]).push([[55],{1329:function(r,e,o){"use strict";o.r(e);var t,i=o(7),n=o(1),a=o(27),s=o(5),d=o(1456),l=function(){function PopularProvidersStore(){this.providersLoading=!1}return PopularProvidersStore.prototype.init=function(){this.loadProviders()},PopularProvidersStore.prototype.loadProviders=function(){var e=this;this.providersLoading=!0,this.providerService.getCategory(this.country,this.providersCategory,this.providersCount).then(function(r){return e.loadProvidersSuccess(r)}).catch(function(r){return e.loadProvidersError(r)})},PopularProvidersStore.prototype.loadProvidersSuccess=function(r){this.providersError=void 0,this.providersLoading=!1,this.providers=r.items},PopularProvidersStore.prototype.loadProvidersError=function(r){this.providersLoading=!1,this.providers=void 0,this.providersError=r},PopularProvidersStore.prototype.gotoProvider=function(r){this.router.open("/payment/form/"+r)},n.__decorate([Object(a.inject)(d.a)],PopularProvidersStore.prototype,"providerService",void 0),n.__decorate([Object(a.inject)(i.Router)],PopularProvidersStore.prototype,"router",void 0),n.__decorate([Object(a.inject)("ProvidersCount")],PopularProvidersStore.prototype,"providersCount",void 0),n.__decorate([Object(a.inject)("ProvidersCategory")],PopularProvidersStore.prototype,"providersCategory",void 0),n.__decorate([Object(a.inject)("Country")],PopularProvidersStore.prototype,"country",void 0),n.__decorate([s.observable],PopularProvidersStore.prototype,"providers",void 0),n.__decorate([s.observable],PopularProvidersStore.prototype,"providersError",void 0),n.__decorate([s.observable],PopularProvidersStore.prototype,"providersLoading",void 0),n.__decorate([s.action,Object(a.postConstruct)()],PopularProvidersStore.prototype,"init",null),n.__decorate([s.action],PopularProvidersStore.prototype,"loadProviders",null),n.__decorate([s.action],PopularProvidersStore.prototype,"loadProvidersSuccess",null),n.__decorate([s.action],PopularProvidersStore.prototype,"loadProvidersError",null),n.__decorate([s.action],PopularProvidersStore.prototype,"gotoProvider",null),PopularProvidersStore=n.__decorate([Object(a.injectable)()],PopularProvidersStore)}(),p=o(0),c=o(20),u=o(18),v=o(4),P=o(12),m=o(2),f={self:{display:"flex",flexDirection:"row",justifyContent:"space-between"},provider:{display:"inline-block",width:160,height:140},content:{display:"flex",flexDirection:"column",alignItems:"center"},logo:n.__assign({},Object(m.j)(96,96,48)),name:n.__assign({marginTop:30},Object(m.j)(70,10))},h=function(r){function ProvidersLoading(){return null!==r&&r.apply(this,arguments)||this}return n.__extends(ProvidersLoading,r),ProvidersLoading.prototype.render=function(){var o=this.props.classes,r=new Array(2).fill(new Array(4).fill(0));return p.createElement(P.Md,null,r.map(function(r,e){return p.createElement("div",{className:o.self,key:e},r.map(function(r,e){return p.createElement("div",{className:o.provider,key:e},p.createElement("div",{className:o.content},p.createElement("div",{className:o.logo}),p.createElement("div",{className:o.name})))}))}))},ProvidersLoading=n.__decorate([Object(v.rb)(f)],ProvidersLoading)}(v.bb),g={self:{background:"#fff6ea",borderRadius:10,padding:[45,70,50],textAlign:"center"},errorIcon:{width:42,margin:[0,"auto"]}},y=function(r){function ProvidersError(){return null!==r&&r.apply(this,arguments)||this}return n.__extends(ProvidersError,r),ProvidersError.prototype.render=function(){var r=this,e=this.props.classes;return p.createElement("div",{className:e.self},p.createElement(P.Kd,null,p.createElement("div",{className:e.errorIcon},p.createElement(P.Ke,null)),p.createElement(P.Id,null,p.createElement(P.h,null,"Не удалось загрузить переводы"),p.createElement(P.Ub,null,p.createElement(P.Td,{onClick:function(){return r.popularProvidersStore.loadProviders()}},"Повторить")))))},n.__decorate([Object(c.resolve)(i.Store)],ProvidersError.prototype,"popularProvidersStore",void 0),ProvidersError=n.__decorate([Object(v.rb)(g)],ProvidersError)}(v.bb),_={self:(t={display:"inline-block",width:124,minHeight:140,textAlign:"center",verticalAlign:"top",cursor:"pointer",$notLastChild:{marginRight:15}},t[m.r.media.large]={width:160},t),logo:{width:96,height:96,margin:[0,"auto"],borderRadius:48,overflow:"hidden"},image:{display:"inline-block",width:64,height:64,marginTop:16},name:{marginTop:22,fontSize:16,fontWeight:500,lineHeight:1.31}},b=function(r){function PopularProvider(){return null!==r&&r.apply(this,arguments)||this}return n.__extends(PopularProvider,r),PopularProvider.prototype.render=function(){var r=this,e=this.props,o=e.classes,t=e.provider;return null===t?p.createElement("div",{className:o.self}):p.createElement("div",{className:o.self,onClick:function(){return r.popularProviderStore.gotoProvider(t.id)}},p.createElement("div",{className:o.logo},p.createElement("img",{src:t.logoUrl,className:o.image})),p.createElement("div",{className:o.name},t.shortName))},n.__decorate([Object(c.resolve)(i.Store)],PopularProvider.prototype,"popularProviderStore",void 0),PopularProvider=n.__decorate([Object(v.rb)(_)],PopularProvider)}(v.bb),S={self:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},E=function(r){function PopularProvidersView(){return null!==r&&r.apply(this,arguments)||this}return n.__extends(PopularProvidersView,r),Object.defineProperty(PopularProvidersView.prototype,"providers",{get:function(){for(var r=[],e=this.popularProvidersStore.providers.concat(new Array((4-this.popularProvidersStore.providers.length%4)%4).fill(null));0<e.length;)r.push(e.splice(0,4));return r},enumerable:!0,configurable:!0}),PopularProvidersView.prototype.render=function(){var o=this.props.classes;return this.popularProvidersStore.providersLoading?p.createElement(h,null):this.popularProvidersStore.providersError?p.createElement(y,null):p.createElement(P.Md,null,this.providers.map(function(r,e){return p.createElement("div",{className:o.self,key:e},r.map(function(r,e){return p.createElement(b,{provider:r,key:e})}))}))},n.__decorate([Object(c.resolve)(i.Store)],PopularProvidersView.prototype,"popularProvidersStore",void 0),PopularProvidersView=n.__decorate([Object(v.rb)(S),u.observer],PopularProvidersView)}(v.bb);e.default=function(r){var e=r.createChild();return e.bind(i.View).toConstructor(E),e.bind(i.Store).to(l).inSingletonScope(),e}}}]);